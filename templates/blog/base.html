<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>BlogBurz</title>

    {% load staticfiles %}
    <!-- Bootstrap core CSS -->
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
          type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
          rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="{% static 'css/clean-blog.min.css' %}" rel="stylesheet">

</head>

<body>
{% include 'blog/navbar.html' %}



{% block content %}

{% endblock %}

{% include 'blog/footer.html' %}


<!-- Bootstrap core JavaScript -->
<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- Custom scripts for this template -->

<script src="{% static 'js/clean-blog.min.js' %}"></script>


<script>
    $(document).ready(function () {
        function updateText(btn, newCount, verb) {
            btn.text(newCount + " " + verb)
        }

        $(".like-btn").click(function(e) {
            e.preventDefault()
            var this_ = $(this)
            var likeUrl = this_.attr("data-href")
            var likeCount = parseInt(this_.attr("data-likes"))
            var addLike = likeCount + 1
            var removeLike = likeCount - 1
            if (likeUrl) {
                $.ajax({
                    url: likeUrl,
                    method: "GET",
                    data: {},
                    success: function (data) {
                        console.log(data)
                        var newlikes;
                        if (data.liked) {
                            updateText(this_, addLike, "Unlike")
                            likeCount = likeCount + 1
                        } else {
                            updateText(this_, likeCount, "Like")

                        }
                    }, error: function (error) {
                        console.log(error)
                        console.log("error")
                    }

                })
            }
        })
    })
</script>

</body>

</html>
